(this["webpackJsonpTrackula-Frontend"]=this["webpackJsonpTrackula-Frontend"]||[]).push([[0],{10:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);n(10);var c,r=n(1),i=n.n(r),a=n(8),o=n.n(a),s=n(4),u=n(9),l=n(0),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.className,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512;return Object(l.jsx)("svg",{className:n?n+" icon":"icon",viewBox:"0 0 ".concat(c," 512"),children:Object(l.jsx)("path",{fill:"currentColor",d:u[e]})})},h=function(e){return j("DELETE",e,448)},b=function(e){return j("SETTINGS",e)},f=function(e){return j("TIMES",e,352)},d=function(e){var t=e.date,n=Object(r.useMemo)((function(){return function(e){var t=e.getHours(),n=e.getMinutes(),c=(1-t%12/6)*Math.PI,r=5*Math.sin(c),i=5*Math.cos(c),a=(1-n%60/30)*Math.PI;return{hourX:r,hourY:i,minutesX:8*Math.sin(a),minutesY:8*Math.cos(a)}}(t)}),[t]),c=n.hourX,i=n.hourY,a=n.minutesX,o=n.minutesY;return Object(l.jsx)("svg",{viewBox:"0 0 24 24",children:Object(l.jsxs)("g",{stroke:"black",strokeWidth:2,strokeLinecap:"round",children:[Object(l.jsx)("circle",{cx:12,cy:12,r:11,fill:"white"}),Object(l.jsx)("line",{x1:12,y1:12,x2:12+c,y2:12+i}),Object(l.jsx)("line",{x1:12,y1:12,x2:12+a,y2:12+o})]})})},O=function(e){var t=e.rate,n=Object(r.useMemo)((function(){return function(e){var t=2*(.5-Math.min(e,1))*Math.PI;return{x:10*Math.sin(t),y:10*Math.cos(t)}}(t)}),[t]),c=n.x,i=n.y;return Object(l.jsxs)("svg",{viewBox:"0 0 24 24",children:[Object(l.jsx)("g",{stroke:"black",strokeWidth:2,strokeLinecap:"round",children:Object(l.jsx)("circle",{cx:12,cy:12,r:11,fill:"white",stroke:"black",strokeWidth:2})}),Object(l.jsx)("path",{d:"M12 12L12 2A10 10 0 0 1 ".concat(12+c," ").concat(12+i,"z"),fill:"red"})]})},g=n(3),x=function(e){return Object(g.a)(Object(g.a)({},e),{},{time:e.time.toISOString()})},p=function(e){return("0"+e).slice(-2)},m=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},v=function(e){return e.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{time:new Date(e.time)})}))},k=function(e){return"".concat(e.getFullYear(),"-").concat(p(e.getMonth()+1),"-").concat(p(e.getDate()))},M=x,w=n(2),S=n.n(w),L=n(5),N=n(6),y=function(e){return"tracks-"+k(e)},z=function(){var e=Object(L.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=N.a.get(y(new Date)))){e.next=8;break}return e.prev=2,e.abrupt("return",JSON.parse(t));case 6:e.prev=6,e.t0=e.catch(2);case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[2,6]])})));return function(){return e.apply(this,arguments)}}(),E={get:function(){return z().then(v)},create:function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:(n=e.sent).push(M(t)),N.a.set(y(t.time),JSON.stringify(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:n=e.sent,N.a.set(y(new Date),JSON.stringify(n.filter((function(e){return e.ID!==t}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I={current:E};!function(e){e.LOCAL="local",e.API="API"}(c||(c={}));var C=function(){return I.current};window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var D={running:!1,locale:navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language},T=function(){var e=new SpeechRecognition;return e.continuous=!1,e.lang=D.locale,e.interimResults=!1,e.maxAlternatives=1,window.onfocus=function(){D.running||(e.start(),D.running=!0)},e.onend=function(){D.running=!1},e.onspeechend=function(){e.stop()},e.onerror=function(e){window.console.error("Error occurred in recognition: "+e.error)},e}(),_={onResult:function(e){T.onresult=function(t){e(t.results[0][0].transcript)}},locale:D.locale},R=function(e,t){var n=Math.floor((+t-+e)/1e3),c=Math.floor(n/60),r=Math.floor(c/60),i=c%60,a=n%60,o=[];return r&&o.push(r+"h"),i&&o.push(i+"m"),a&&o.push(a+"s"),o.join(" ")},A=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useCallback)((function(e){var t={ID:m(),description:e,time:new Date};C().create(t).then((function(){return c((function(e){return e.concat(t)}))}))}),[]);Object(r.useEffect)((function(){_.onResult(a)}),[a]),Object(r.useEffect)((function(){C().get().then(c)}),[]);var o=Object(r.useCallback)((function(e){return function(){C().remove(e).then((function(){return c((function(t){return t.filter((function(t){return t.ID!==e}))}))}))}}),[]);return Object(l.jsx)("main",{children:n.map((function(e,t){var c,r,a,s=e.ID,u=e.time,j=e.description,b=null===(c=n[t+1])||void 0===c?void 0:c.time;return Object(l.jsxs)(i.a.Fragment,{children:[Object(l.jsxs)("strong",{className:"track__time",children:[Object(l.jsx)(d,{date:u}),u.toLocaleTimeString()]}),Object(l.jsx)("em",{className:"track__description",children:j}),Object(l.jsx)("div",{className:"track__rate",children:b&&Object(l.jsx)(O,{rate:(r=n[0].time,a=b,(+a-+r)/288e5)})}),Object(l.jsx)("div",{className:"track__diff",children:b&&R(u,b)}),Object(l.jsx)("div",{className:"track__actions",children:Object(l.jsx)("button",{onClick:o(s),className:"icon-button",title:"delete",children:Object(l.jsx)(h,{})})})]},s)}))})},H=function(e){var t=e.open,n=e.onClose;return Object(l.jsxs)("div",{className:"settings"+(t?" settings--open":""),children:[Object(l.jsx)("h2",{children:"Settings"}),Object(l.jsx)("button",{className:"settings__close icon-button",onClick:n,title:"close settings",children:Object(l.jsx)(f,{})}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Language: "}),_.locale," ",Object(l.jsx)("em",{children:"(configure your Browser language to change this value)"})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Storage: "}),"Browser Local Storage ",Object(l.jsx)("em",{children:"(not yet configurable)"})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Work per day: "}),"8h ",Object(l.jsx)("em",{children:"(not yet configurable)"})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Speech Recognition Trigger: "}),"Tab Focus ",Object(l.jsx)("em",{children:"(not yet configurable)"})]})]})},B=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useCallback)((function(){return c(!0)}),[]),a=Object(r.useCallback)((function(){return c(!1)}),[]),o=Object(r.useMemo)((function(){return(new Date).toLocaleDateString()}),[]);return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:o}),Object(l.jsx)("button",{className:"icon-button",onClick:i,title:"settings",children:Object(l.jsx)(b,{})})]}),Object(l.jsx)(H,{open:n,onClose:a}),Object(l.jsx)(A,{})]})};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root"))},9:function(e){e.exports=JSON.parse('{"DELETE":"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z","SEARCH":"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z","SETTINGS":"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z","SPINNER":"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z","TIMES":"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}')}},[[17,1,2]]]);